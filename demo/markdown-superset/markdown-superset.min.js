var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function r(r){return r}function e(r){return!1}function n(){}function t(){}n.prototype={chain:function(e,n){var t=this[e];if(!t)throw new Error("unknown hook "+e);t===r?this[e]=n:this[e]=function(r){var e=Array.prototype.slice.call(arguments,0);return e[0]=t.apply(null,e),n.apply(null,e)}},set:function(r,e){if(!this[r])throw new Error("unknown hook "+r);this[r]=e},addNoop:function(e){this[e]=r},addFalse:function(r){this[r]=e}},Markdown.HookCollection=n,t.prototype={set:function(r,e){this["s_"+r]=e},get:function(r){return this["s_"+r]}},Markdown.Converter=function(){function r(r){return r=r.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(r,e,n,t,a,o){return e=e.toLowerCase(),G.set(e,_(n)),a?t:(o&&K.set(e,o.replace(/"/g,"&quot;")),"")})}function e(r){return r=r.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,a),r=r.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,a),r=r.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a),r=r.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,a),r=r.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a)}function a(r,e){var n=e;return n=n.replace(/^\n+/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(L.push(n)-1)+"K\n\n"}function o(r,n){r=z.preBlockGamut(r,D),r=g(r);var t="<hr />\n";return r=r.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),r=r.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,t),r=r.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,t),r=v(r),r=h(r),r=S(r),r=z.postBlockGamut(r,D),r=e(r),r=M(r,n)}function c(r){return r=z.preSpanGamut(r),r=w(r),r=i(r),r=E(r),r=l(r),r=u(r),r=b(r),r=r.replace(/~P/g,"://"),r=_(r),r=$(r),r=r.replace(/  +\n/g," <br>\n"),r=z.postSpanGamut(r)}function i(r){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return r=r.replace(e,function(r){var e=r.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=P(e,"!"==r.charAt(1)?"\\`*_/":"\\`*_")})}function u(r){return r=r.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),r=r.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p),r=r.replace(/(\[([^\[\]]+)\])()()()()()/g,p)}function p(r,e,n,t,a,o,c,i){void 0==i&&(i="");var u=e;var p=n.replace(/:\/\//g,"~P");var l=t.toLowerCase();var f=a;var g=i;if(""==f)if(""==l&&(l=p.toLowerCase().replace(/ ?\n/g," ")),f="#"+l,void 0!=G.get(l))f=G.get(l),void 0!=K.get(l)&&(g=K.get(l));else{if(!(u.search(/\(\s*\)$/m)>-1))return u;f=""}f=N(f),f=P(f,"*_");var v='<a href="'+f+'"';return""!=g&&(g=s(g),g=P(g,"*_"),v+=' title="'+g+'"'),v+=">"+p+"</a>"}function l(r){return r=r.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,f),r=r.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,f)}function s(r){return r.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function f(r,e,n,t,a,o,c,i){var u=e;var p=n;var l=t.toLowerCase();var f=a;var g=i;if(g||(g=""),""==f){if(""==l&&(l=p.toLowerCase().replace(/ ?\n/g," ")),f="#"+l,void 0==G.get(l))return u;f=G.get(l),void 0!=K.get(l)&&(g=K.get(l))}p=P(s(p),"*_[]()"),f=P(f,"*_");var v='<img src="'+f+'" alt="'+p+'"';return g=s(g),g=P(g,"*_"),v+=' title="'+g+'"',v+=" />"}function g(r){return r=r.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(r,e){return"<h1>"+c(e)+"</h1>\n\n"}),r=r.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(r,e){return"<h2>"+c(e)+"</h2>\n\n"}),r=r.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(r,e,n){var t=e.length;return"<h"+t+">"+c(n)+"</h"+t+">\n\n"})}function v(r){r+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return W?r=r.replace(e,function(r,e,n){var t=e;var a=n.search(/[*+-]/g)>-1?"ul":"ol";var o=d(t,a);return o=o.replace(/\s+$/,""),o="<"+a+">"+o+"</"+a+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,r=r.replace(e,function(r,e,n,t){var a=e;var o=n;var c=t.search(/[*+-]/g)>-1?"ul":"ol";var i=d(o,c);return i=a+"<"+c+">\n"+i+"</"+c+">\n"})),r=r.replace(/~0/,"")}function d(r,e){W++,r=r.replace(/\n{2,}$/,"\n"),r+="~0";var n=H[e];var t=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm");var a=!1;return r=r.replace(t,function(r,e,n,t){var i=t;var u=/\n\n$/.test(i);var p=u||i.search(/\n{2,}/)>-1;return p||a?i=o(x(i),!0):(i=v(x(i)),i=i.replace(/\n$/,""),i=c(i)),a=u,"<li>"+i+"</li>\n"}),r=r.replace(/~0/g,""),W--,r}function h(r){return r+="~0",r=r.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(r,e,n){var t=e;var a=n;return t=k(x(t)),t=A(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>","\n\n"+t+"\n\n"+a}),r=r.replace(/~0/,"")}function m(r){return r=r.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(L.push(r)-1)+"K\n\n"}function w(r){return r=r.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(r,e,n,t,a){var o=t;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=k(o),o=o.replace(/:\/\//g,"~P"),e+"<code>"+o+"</code>"})}function k(r){return r=r.replace(/&/g,"&amp;"),r=r.replace(/</g,"&lt;"),r=r.replace(/>/g,"&gt;"),r=P(r,"*_{}[]\\",!1)}function $(r){return r=r.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),r=r.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function S(r){return r=r.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(r,e){var n=e;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=o(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(r,e){var n=e;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),m("<blockquote>\n"+n+"\n</blockquote>")})}function M(r,e){r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,"");var n=r.split(/\n{2,}/g);var t=[];var a=/~K(\d+)K/;var o=n.length;for(var i=0;i<o;i++){var u=n[i];a.test(u)?t.push(u):/\S/.test(u)&&(u=c(u),u=u.replace(/^([ \t]*)/g,"<p>"),u+="</p>",t.push(u))}if(!e){o=t.length;for(var i=0;i<o;i++){var p=!0;for(;p;)p=!1,t[i]=t[i].replace(/~K(\d+)K/g,function(r,e){return p=!0,L[e]})}}return t.join("\n\n")}function _(r){return r=r.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),r=r.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function E(r){return r=r.replace(/\\(\\)/g,q),r=r.replace(/\\([`*_{}\[\]()>#+-.!])/g,q)}function C(r,e,n,t){if(e)return r;if(")"!==t.charAt(t.length-1))return"<"+n+t+">";var a=t.match(/[()]/g);var o=0;for(var c=0;c<a.length;c++)"("===a[c]?o<=0?o=1:o++:o--;var i="";if(o<0){var u=new RegExp("\\){1,"+-o+"}$");t=t.replace(u,function(r){return i=r,""})}return"<"+n+t+">"+i}function b(r){r=r.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,C);var e=function(r,e){return'<a href="'+e+'">'+z.plainLinkText(e)+"</a>"};return r=r.replace(/<((https?|ftp):[^'">\s]+)>/gi,e)}function y(r){return r=r.replace(/~E(\d+)E/g,function(r,e){var n=parseInt(e);return String.fromCharCode(n)})}function x(r){return r=r.replace(/^(\t|[ ]{1,4})/gm,"~0"),r=r.replace(/~0/g,"")}function A(r){if(!/\t/.test(r))return r;var e,n=["    ","   ","  "," "],t=0;return r.replace(/[\n\t]/g,function(r,a){return"\n"===r?(t=a+1,r):(e=(a-t)%4,t=a+1,n[e])})}function N(r){if(!r)return"";var e=r.length;return r.replace(R,function(n,t){return"~D"==n?"%24":":"!=n||t!=e-1&&!/[0-9\/]/.test(r.charAt(t+1))?"%"+n.charCodeAt(0).toString(16):":"})}function P(r,e,n){var t="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return r=r.replace(a,q)}function q(r,e){var n=e.charCodeAt(0);return"~E"+n+"E"}var z=this.hooks=new n;z.addNoop("plainLinkText"),z.addNoop("preConversion"),z.addNoop("postNormalization"),z.addNoop("preBlockGamut"),z.addNoop("postBlockGamut"),z.addNoop("preSpanGamut"),z.addNoop("postSpanGamut"),z.addNoop("postConversion");var G;var K;var L;var W;this.makeHtml=function(n){if(G)throw new Error("Recursive call to converter.makeHtml");return G=new t,K=new t,L=[],W=0,n=z.preConversion(n),n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=A(n),n=n.replace(/^[ \t]+$/gm,""),n=z.postNormalization(n),n=e(n),n=r(n),n=o(n),n=y(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=z.postConversion(n),L=K=G=null,n};var D=function(r){return o(r)};var H={ol:"\\d+[.]",ul:"[*+-]"};var R=/(?:["'*()[\]:]|~D)/g}}(),function(){function r(r){return r.replace(/<[^>]*>?/gi,e)}function e(r){return r.match(o)||r.match(c)||r.match(i)?r:""}function n(r){if(""==r)return"";var e=/<\/?\w+[^>]*(\s|$|>)/g;var n=r.toLowerCase().match(e);var t=(n||[]).length;if(0==t)return r;var a,o;var c="<p><img><br><li><hr>";var i;var u=[];var p=[];var l=!1;for(var s=0;s<t;s++)if(a=n[s].replace(/<\/?(\w+).*/,"$1"),!(u[s]||c.search("<"+a+">")>-1)){if(o=n[s],i=-1,!/^<\//.test(o))for(var f=s+1;f<t;f++)if(!u[f]&&n[f]=="</"+a+">"){i=f;break}i==-1?l=p[s]=!0:u[i]=!0}if(!l)return r;var s=0;return r=r.replace(e,function(r){var e=p[s]?"":r;return s++,e})}var t,a;"object"==typeof exports&&"function"==typeof require?(t=exports,a=require("./Markdown.Converter").Converter):(t=window.Markdown,a=t.Converter),t.getSanitizingConverter=function(){var e=new a;return e.hooks.chain("postConversion",r),e.hooks.chain("postConversion",n),e};var o=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i;var c=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i;var i=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}();var MarkdownSuperset;!function(r){r.Manager=r.MarkdownManager}(MarkdownSuperset||(MarkdownSuperset={}));var MarkdownSuperset;!function(r){var e=function(){function r(){}return r.prototype.initEditor=function(r){void 0===r&&(r="editor"),this.aceEditor=ace.edit(r),this.aceEditor.setTheme("ace/theme/chrome"),this.aceEditor.getSession().setMode("ace/mode/markdown"),this.aceEditor.setReadOnly(!1),this.aceEditor.session.setUseWrapMode(!1),this.aceEditor.setScrollSpeed(1),this.aceEditor.setFontSize("16px"),this.aceEditor.getSession().on("change",function(r){})},r.prototype.setValue=function(r,e){this.aceEditor.setValue(r,e)},r}();r.MarkdownEditor=e,r.Editor=e}(MarkdownSuperset||(MarkdownSuperset={}));var MarkdownSuperset;!function(r){var e=function(){function r(r){}return r}();r.MarkdownExtraPlugin=e,r.ExtraPlugin=e}(MarkdownSuperset||(MarkdownSuperset={}));var MarkdownSuperset;!function(r){var e=function(){function r(r){}return r.prototype.registerPlugin=function(r){this._activePlugins.indexOf(r)||this._activePlugins.push(r)},r.prototype.registerPlugins=function(r){},r}();r.MarkdownManager=e}(MarkdownSuperset||(MarkdownSuperset={}));var MarkdownSuperset;!function(r){var e=function(){function r(){this.converter=new Markdown.Converter}return r.prototype.makeHtml=function(r){return this.converter.makeHtml(r)},r}();r.MarkdownParser=e,r.Parser=e}(MarkdownSuperset||(MarkdownSuperset={}));