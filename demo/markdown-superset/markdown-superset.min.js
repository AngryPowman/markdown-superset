var Markdown;Markdown="object"==typeof exports&&"function"==typeof require?exports:{},function(){function r(r){return r}function e(r){return!1}function n(){}function t(){}n.prototype={chain:function(e,n){var t=this[e];if(!t)throw new Error("unknown hook "+e);t===r?this[e]=n:this[e]=function(r){var e=Array.prototype.slice.call(arguments,0);return e[0]=t.apply(null,e),n.apply(null,e)}},set:function(r,e){if(!this[r])throw new Error("unknown hook "+r);this[r]=e},addNoop:function(e){this[e]=r},addFalse:function(r){this[r]=e}},Markdown.HookCollection=n,t.prototype={set:function(r,e){this["s_"+r]=e},get:function(r){return this["s_"+r]}},Markdown.Converter=function(){function r(r){return r=r.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(r,e,n,t,a,o){return e=e.toLowerCase(),L.set(e,S(n)),a?t:(o&&z.set(e,o.replace(/"/g,"&quot;")),"")})}function e(r){return r=r.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,a),r=r.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,a),r=r.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,a),r=r.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,a),r=r.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,a)}function a(r,e){var n=e;return n=n.replace(/^\n+/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(D.push(n)-1)+"K\n\n"}function o(r,n){r=K.preBlockGamut(r,P),r=s(r);var t="<hr />\n";return r=r.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),r=r.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,t),r=r.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,t),r=v(r),r=d(r),r=_(r),r=K.postBlockGamut(r,P),r=e(r),r=C(r,n)}function c(r){return r=K.preSpanGamut(r),r=w(r),r=u(r),r=b(r),r=l(r),r=i(r),r=y(r),r=r.replace(/~P/g,"://"),r=S(r),r=$(r),r=r.replace(/  +\n/g," <br>\n"),r=K.postSpanGamut(r)}function u(r){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi;return r=r.replace(e,function(r){var e=r.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=x(e,"!"==r.charAt(1)?"\\`*_/":"\\`*_")})}function i(r){return r=r.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),r=r.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()\s])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p),r=r.replace(/(\[([^\[\]]+)\])()()()()()/g,p)}function p(r,e,n,t,a,o,c,u){void 0==u&&(u="");var i=e;var p=n.replace(/:\/\//g,"~P");var l=t.toLowerCase();var g=a;var s=u;if(""==g)if(""==l&&(l=p.toLowerCase().replace(/ ?\n/g," ")),g="#"+l,void 0!=L.get(l))g=L.get(l),void 0!=z.get(l)&&(s=z.get(l));else{if(!(i.search(/\(\s*\)$/m)>-1))return i;g=""}g=q(g),g=x(g,"*_");var v='<a href="'+g+'"';return""!=s&&(s=f(s),s=x(s,"*_"),v+=' title="'+s+'"'),v+=">"+p+"</a>"}function l(r){return r=r.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,g),r=r.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,g)}function f(r){return r.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function g(r,e,n,t,a,o,c,u){var i=e;var p=n;var l=t.toLowerCase();var g=a;var s=u;if(s||(s=""),""==g){if(""==l&&(l=p.toLowerCase().replace(/ ?\n/g," ")),g="#"+l,void 0==L.get(l))return i;g=L.get(l),void 0!=z.get(l)&&(s=z.get(l))}p=x(f(p),"*_[]()"),g=x(g,"*_");var v='<img src="'+g+'" alt="'+p+'"';return s=f(s),s=x(s,"*_"),v+=' title="'+s+'"',v+=" />"}function s(r){return r=r.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(r,e){return"<h1>"+c(e)+"</h1>\n\n"}),r=r.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(r,e){return"<h2>"+c(e)+"</h2>\n\n"}),r=r.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(r,e,n){var t=e.length;return"<h"+t+">"+c(n)+"</h"+t+">\n\n"})}function v(r){r+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return H?r=r.replace(e,function(r,e,n){var t=e;var a=n.search(/[*+-]/g)>-1?"ul":"ol";var o=h(t,a);return o=o.replace(/\s+$/,""),o="<"+a+">"+o+"</"+a+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,r=r.replace(e,function(r,e,n,t){var a=e;var o=n;var c=t.search(/[*+-]/g)>-1?"ul":"ol";var u=h(o,c);return u=a+"<"+c+">\n"+u+"</"+c+">\n"})),r=r.replace(/~0/,"")}function h(r,e){H++,r=r.replace(/\n{2,}$/,"\n"),r+="~0";var n=W[e];var t=new RegExp("(^[ \\t]*)("+n+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+n+")[ \\t]+))","gm");var a=!1;return r=r.replace(t,function(r,e,n,t){var u=t;var i=/\n\n$/.test(u);var p=i||u.search(/\n{2,}/)>-1;return p||a?u=o(E(u),!0):(u=v(E(u)),u=u.replace(/\n$/,""),u=c(u)),a=i,"<li>"+u+"</li>\n"}),r=r.replace(/~0/g,""),H--,r}function d(r){return r+="~0",r=r.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(r,e,n){var t=e;var a=n;return t=k(E(t)),t=N(t),t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,""),t="<pre><code>"+t+"\n</code></pre>","\n\n"+t+"\n\n"+a}),r=r.replace(/~0/,"")}function m(r){return r=r.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(D.push(r)-1)+"K\n\n"}function w(r){return r=r.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(r,e,n,t,a){var o=t;return o=o.replace(/^([ \t]*)/g,""),o=o.replace(/[ \t]*$/g,""),o=k(o),o=o.replace(/:\/\//g,"~P"),e+"<code>"+o+"</code>"})}function k(r){return r=r.replace(/&/g,"&amp;"),r=r.replace(/</g,"&lt;"),r=r.replace(/>/g,"&gt;"),r=x(r,"*_{}[]\\",!1)}function $(r){return r=r.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4"),r=r.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4")}function _(r){return r=r.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(r,e){var n=e;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=o(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(r,e){var n=e;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),m("<blockquote>\n"+n+"\n</blockquote>")})}function C(r,e){r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,"");var n=r.split(/\n{2,}/g);var t=[];var a=/~K(\d+)K/;var o=n.length;for(var u=0;u<o;u++){var i=n[u];a.test(i)?t.push(i):/\S/.test(i)&&(i=c(i),i=i.replace(/^([ \t]*)/g,"<p>"),i+="</p>",t.push(i))}if(!e){o=t.length;for(var u=0;u<o;u++){var p=!0;for(;p;)p=!1,t[u]=t[u].replace(/~K(\d+)K/g,function(r,e){return p=!0,D[e]})}}return t.join("\n\n")}function S(r){return r=r.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),r=r.replace(/<(?![a-z\/?!]|~D)/gi,"&lt;")}function b(r){return r=r.replace(/\\(\\)/g,G),r=r.replace(/\\([`*_{}\[\]()>#+-.!])/g,G)}function M(r,e,n,t){if(e)return r;if(")"!==t.charAt(t.length-1))return"<"+n+t+">";var a=t.match(/[()]/g);var o=0;for(var c=0;c<a.length;c++)"("===a[c]?o<=0?o=1:o++:o--;var u="";if(o<0){var i=new RegExp("\\){1,"+-o+"}$");t=t.replace(i,function(r){return u=r,""})}return"<"+n+t+">"+u}function y(r){r=r.replace(/(="|<)?\b(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\])])(?=$|\W)/gi,M);var e=function(r,e){return'<a href="'+e+'">'+K.plainLinkText(e)+"</a>"};return r=r.replace(/<((https?|ftp):[^'">\s]+)>/gi,e)}function A(r){return r=r.replace(/~E(\d+)E/g,function(r,e){var n=parseInt(e);return String.fromCharCode(n)})}function E(r){return r=r.replace(/^(\t|[ ]{1,4})/gm,"~0"),r=r.replace(/~0/g,"")}function N(r){if(!/\t/.test(r))return r;var e,n=["    ","   ","  "," "],t=0;return r.replace(/[\n\t]/g,function(r,a){return"\n"===r?(t=a+1,r):(e=(a-t)%4,t=a+1,n[e])})}function q(r){if(!r)return"";var e=r.length;return r.replace(B,function(n,t){return"~D"==n?"%24":":"!=n||t!=e-1&&!/[0-9\/]/.test(r.charAt(t+1))?"%"+n.charCodeAt(0).toString(16):":"})}function x(r,e,n){var t="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(t="\\\\"+t);var a=new RegExp(t,"g");return r=r.replace(a,G)}function G(r,e){var n=e.charCodeAt(0);return"~E"+n+"E"}var K=this.hooks=new n;K.addNoop("plainLinkText"),K.addNoop("preConversion"),K.addNoop("postNormalization"),K.addNoop("preBlockGamut"),K.addNoop("postBlockGamut"),K.addNoop("preSpanGamut"),K.addNoop("postSpanGamut"),K.addNoop("postConversion");var L;var z;var D;var H;this.makeHtml=function(n){if(L)throw new Error("Recursive call to converter.makeHtml");return L=new t,z=new t,D=[],H=0,n=K.preConversion(n),n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=N(n),n=n.replace(/^[ \t]+$/gm,""),n=K.postNormalization(n),n=e(n),n=r(n),n=o(n),n=A(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=K.postConversion(n),D=z=L=null,n};var P=function(r){return o(r)};var W={ol:"\\d+[.]",ul:"[*+-]"};var B=/(?:["'*()[\]:]|~D)/g}}(),function(){function r(r){return r.replace(/<[^>]*>?/gi,e)}function e(r){return r.match(o)||r.match(c)||r.match(u)?r:""}function n(r){if(""==r)return"";var e=/<\/?\w+[^>]*(\s|$|>)/g;var n=r.toLowerCase().match(e);var t=(n||[]).length;if(0==t)return r;var a,o;var c="<p><img><br><li><hr>";var u;var i=[];var p=[];var l=!1;for(var f=0;f<t;f++)if(a=n[f].replace(/<\/?(\w+).*/,"$1"),!(i[f]||c.search("<"+a+">")>-1)){if(o=n[f],u=-1,!/^<\//.test(o))for(var g=f+1;g<t;g++)if(!i[g]&&n[g]=="</"+a+">"){u=g;break}u==-1?l=p[f]=!0:i[u]=!0}if(!l)return r;var f=0;return r=r.replace(e,function(r){var e=p[f]?"":r;return f++,e})}var t,a;"object"==typeof exports&&"function"==typeof require?(t=exports,a=require("./Markdown.Converter").Converter):(t=window.Markdown,a=t.Converter),t.getSanitizingConverter=function(){var e=new a;return e.hooks.chain("postConversion",r),e.hooks.chain("postConversion",n),e};var o=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|pre|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i;var c=/^(<a\shref="((https?|ftp):\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i;var u=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i}();var MarkdownSuperset;!function(r){var e=function(){function r(){}return r}();r.MarkdownEditor=e}(MarkdownSuperset||(MarkdownSuperset={}));var MarkdownSuperset;!function(r){var e=function(){function r(){this.converter=new Markdown.Converter}return r.prototype.makeHtml=function(r){return this.converter.makeHtml(r)},r}();r.MarkdownParser=e,r.Parser=e}(MarkdownSuperset||(MarkdownSuperset={}));